var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var Part2_1 = require("./script/Part2");
var GameUI_1 = require("./script/GameUI");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("script/Part2.ts", Part2_1.default);
        reg("script/GameUI.ts", GameUI_1.default);
    };
    GameConfig.width = 640;
    GameConfig.height = 1136;
    GameConfig.scaleMode = " ";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "top";
    GameConfig.alignH = "left";
    GameConfig.startScene = "test/TestScene.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();
},{"./script/GameUI":6,"./script/Part2":7}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
    };
    return Main;
}());
//激活启动类
new Main();
},{"./GameConfig":1}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var CameraMoveScript = /** @class */ (function (_super) {
    __extends(CameraMoveScript, _super);
    /**
     * 1.镜头跟随 target
     * 2.镜头角度调整
     * 3.镜头远近调整
     */
    function CameraMoveScript() {
        var _this = _super.call(this) || this;
        _this.rotainSpeed = 0.0006; //旋转速度
        _this.yawPitchRoll = new Laya.Vector3();
        _this.tempRotationZ = new Laya.Quaternion();
        _this.tempRotationX = new Laya.Quaternion();
        _this.tempRotationY = new Laya.Quaternion();
        return _this;
    }
    CameraMoveScript.prototype.onAwake = function () {
    };
    CameraMoveScript.prototype.onStart = function () {
        this.camera = this.owner;
        this.isMouseDown = false;
        // this.target = this.owner.t
        Laya.stage.on(Laya.Event.MOUSE_DOWN, this, this.onMouseDown);
        Laya.stage.on(Laya.Event.MOUSE_UP, this, this.onMouseUp);
        Laya.stage.on(Laya.Event.MOUSE_OUT, this, this.onMouseOut);
        Laya.stage.on(Laya.Event.MOUSE_WHEEL, this, this.onMouseWheel);
    };
    CameraMoveScript.prototype.onMouseWheel = function (e) {
        // var postion = this.camera.transform.position;
        if (e.delta > 0) {
            var a = new Laya.Vector3(0, 0, 0);
            var b = new Laya.Vector3(0, 0, 0);
            // postion += this.camera.transform.T
            this.camera.fieldOfView += 1;
        }
        else {
            this.camera.fieldOfView -= 1;
        }
    };
    CameraMoveScript.prototype.onMouseDown = function (e) {
        this.camera.transform.rotation.getYawPitchRoll(this.yawPitchRoll);
        this.lastMouseX = Laya.stage.mouseX;
        this.lastMouseY = Laya.stage.mouseY;
        this.isMouseDown = true;
    };
    CameraMoveScript.prototype.onMouseUp = function (e) {
        this.isMouseDown = false;
    };
    CameraMoveScript.prototype.onMouseOut = function (e) {
        this.isMouseDown = false;
    };
    CameraMoveScript.prototype.onUpdate = function () {
        // laya.
        console.log("time - ");
        // state.
        //  this.updateCamera();
    };
    CameraMoveScript.prototype.updateCamera = function () {
        if (!isNaN(this.lastMouseX) && !isNaN(this.lastMouseY)) {
            Laya.KeyBoardManager.hasKeyDown(Laya.Keyboard.W) && this.camera.transform.rotate(new Laya.Vector3(0, 1, 0), true, false);
            Laya.KeyBoardManager.hasKeyDown(Laya.Keyboard.S) && this.camera.transform.rotate(new Laya.Vector3(0, 1, 0), true, false);
            Laya.KeyBoardManager.hasKeyDown(Laya.Keyboard.A) && this.camera.transform.rotate(new Laya.Vector3(1, 0, 0), true, false);
            Laya.KeyBoardManager.hasKeyDown(Laya.Keyboard.D) && this.camera.transform.rotate(new Laya.Vector3(1, 0, 0), true, false);
            if (this.isMouseDown) {
                var mouseX = Laya.stage.mouseX - this.lastMouseX;
                var mouseY = Laya.stage.mouseY - this.lastMouseY;
                var yprElem = this.yawPitchRoll.elements;
                yprElem[0] -= mouseX * this.rotainSpeed * 0.5;
                yprElem[1] -= mouseX * this.rotainSpeed * 0.5;
                this.updateRotation();
            }
        }
        this.lastMouseX = Laya.stage.mouseX;
        this.lastMouseY = Laya.stage.mouseY;
    };
    CameraMoveScript.prototype.updateRotation = function () {
        var yprElem = this.yawPitchRoll.elements;
        if (Math.abs(yprElem[1]) < 1.5) {
            Laya.Quaternion.createFromYawPitchRoll(yprElem[0], yprElem[1], yprElem[2], this.tempRotationZ);
            this.camera.transform.localRotation = this.tempRotationZ;
        }
    };
    CameraMoveScript.prototype.onEnable = function () {
    };
    CameraMoveScript.prototype.onDestroy = function () {
    };
    CameraMoveScript.prototype.onDisable = function () {
    };
    return CameraMoveScript;
}(Laya.Script));
exports.default = CameraMoveScript;
},{}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var CameraMoveScript_1 = require("./CameraMoveScript");
var CreateScene3 = /** @class */ (function (_super) {
    __extends(CreateScene3, _super);
    function CreateScene3() {
        return _super.call(this) || this;
    }
    CreateScene3.prototype.onAwake = function () {
        this.scene = this.owner;
    };
    CreateScene3.prototype.onStart = function () {
        // this.camera.o
        this.camera = this.scene.addChild(new Laya.Camera(0, 0.1, 100));
        this.camera.transform.translate(new Laya.Vector3(0, 6, 9.5));
        this.camera.transform.rotate(new Laya.Vector3(-15, 0, 0), true, false);
        this.camera.clearColor = new Laya.Vector4(0.5, 0.5, 0.5, 1);
        this.camera.addComponent(CameraMoveScript_1.default);
        var directionLight = this.scene.addChild(new Laya.DirectionLight());
        directionLight.color = new Laya.Vector3(1, 1, 1);
        directionLight.transform.worldMatrix.setForward(new Laya.Vector3(-1, -1, -1));
        var plane = this.scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createPlane(10, 10, 10, 10)));
        var planeMaterial = new Laya.BlinnPhongMaterial();
        Laya.loader.load("res/Layabox.png", Laya.Handler.create(null, function (tx) {
            planeMaterial.albedoTexture = tx;
        }));
        plane.meshRenderer.material = planeMaterial;
        plane.meshRenderer.castShadow = true;
        var rigidBody = plane.addComponent(Laya.PhysicsCollider);
        var box = new Laya.BoxColliderShape(10, 0, 10);
        rigidBody.colliderShape = box;
        Laya.timer.loop(2000, this, this.randomAddPhysicsSprite);
    };
    CreateScene3.prototype.randomAddPhysicsSprite = function () {
        var n = Math.floor(Math.random() * 3) % 3;
        switch (n) {
            case 0:
                this.addBox();
                break;
            case 1:
                this.addSphere();
                break;
            case 2:
                this.addCapsule();
                break;
        }
    };
    CreateScene3.prototype.addBox = function () {
        var mat1 = new Laya.BlinnPhongMaterial();
        Laya.Texture2D.load("res/Layabox.png", Laya.Handler.create(this, function (tex) {
            mat1.albedoTexture = tex;
        }));
        var sX = Math.random() * 0.75 + 0.25;
        var sY = Math.random() * 0.75 + 0.25;
        var sZ = Math.random() * 0.75 + 0.25;
        var box = this.scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(sX, sY, sZ)));
        box.meshRenderer.material = mat1;
        box.transform.position = new Laya.Vector3(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);
        box.transform.rotationEuler = new Laya.Vector3(Math.random() * 360, Math.random() * 360, Math.random() * 360);
        var rigidBody3D = box.addComponent(Laya.Rigidbody3D);
        var boxShp = new Laya.BoxColliderShape(sX, sY, sZ);
        rigidBody3D.colliderShape = boxShp;
        rigidBody3D.mass = 10;
    };
    CreateScene3.prototype.addSphere = function () {
        var mat2 = new Laya.BlinnPhongMaterial();
        //
        Laya.Texture2D.load("res/Layabox.png", Laya.Handler.create(null, function (tex) {
            mat2.albedoTexture = tex;
        }));
        var radius = Math.random() * 0.2 + 0.2;
        var sphere = this.scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createSphere(radius)));
        sphere.meshRenderer.material = mat2;
        sphere.transform.position = new Laya.Vector3(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);
        var rigidBody = sphere.addComponent(Laya.Rigidbody3D);
        var sphereShape = new Laya.SphereColliderShape(radius);
        rigidBody.colliderShape = sphereShape;
        rigidBody.mass = 10;
    };
    CreateScene3.prototype.addCapsule = function () {
        var mat3 = new Laya.BlinnPhongMaterial();
        Laya.Texture2D.load("res/Layabox.png", Laya.Handler.create(null, function (tex) {
            mat3.albedoTexture = tex;
        }));
        var raidius = Math.random() * 0.2 + 0.2;
        var height = Math.random() * 0.5 + 0.8;
        var capsule = this.scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createCapsule(raidius, height)));
        capsule.meshRenderer.material = mat3;
        capsule.transform.position = new Laya.Vector3(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);
        capsule.transform.rotationEuler = new Laya.Vector3(Math.random() * 360, Math.random() * 360, Math.random() * 360);
        var rigidBody = capsule.addComponent(Laya.Rigidbody3D);
        var sphereShape = new Laya.CapsuleColliderShape(raidius, height);
        rigidBody.colliderShape = sphereShape;
        rigidBody.mass = 10;
    };
    return CreateScene3;
}(Laya.Script));
exports.default = CreateScene3;
},{"./CameraMoveScript":3}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var EveEmitter = /** @class */ (function () {
    function EveEmitter() {
        this.events = {};
    }
    EveEmitter.prototype.on = function (event, callback) {
        var callbacks = this.events[event] || []; //看下之前有没有监听，有监听的话就把之前的回调也
        callbacks.push(callback); //添加这次监听的回调
        this.events[event] = callbacks;
        return this;
    };
    EveEmitter.prototype.off = function (event, callback) {
        var callbacks = this.events[event]; //拿所有对应event的回调
        this.events[event] = callbacks && callbacks.filter(function (fn) { return fn !== callback; }); //把callback去除
        //filter过滤，不是对应callback的回调会继续保留，相等的会删除
        return this;
    };
    EveEmitter.prototype.emit = function () {
        var args = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            args[_i] = arguments[_i];
        }
        var event = args[0];
        var params = [].slice.call(args, 1); //其他的全部保存到一个数组里面
        var callbacks = this.events[event]; //拿到对应事件的回调
        callbacks.forEach(function (fn) { return fn.apply(params); }); //把所有的都触发
        //apply、call、bind
        return this;
    };
    EveEmitter.prototype.once = function (event, callback) {
        var _this = this;
        var warpFanc = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
            }
            callback.apply(args);
            _this.off(event, warpFanc); //执行后立即注销
        };
        this.on(event, warpFanc); //绑定监听
        return this;
    };
    return EveEmitter;
}());
exports.default = EveEmitter;
},{}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("./../ui/layaMaxUI");
var CreateScene3_1 = require("./CreateScene3");
/**
 * 本示例采用非脚本的方式实现，而使用继承页面基类，实现页面逻辑。在IDE里面设置场景的Runtime属性即可和场景进行关联
 * 相比脚本方式，继承式页面类，可以直接使用页面定义的属性（通过IDE内var属性定义），比如this.tipLbll，this.scoreLbl，具有代码提示效果
 * 建议：如果是页面级的逻辑，需要频繁访问页面内多个元素，使用继承式写法，如果是独立小模块，功能单一，建议用脚本方式实现，比如子弹脚本。
 */
var GameUI = /** @class */ (function (_super) {
    __extends(GameUI, _super);
    function GameUI() {
        var _this = _super.call(this) || this;
        Laya.loader.load("res/layabox.png", Laya.Handler.create(_this, function () {
            var scene = new Laya.Scene3D();
            Laya.stage.addChild(scene);
            scene.addComponent(CreateScene3_1.default);
            // scene.addComponent(CameraMoveScript);
        }));
        return _this;
        // //添加3D场景
        // var scene: Laya.Scene3D = Laya.stage.addChild(new Laya.Scene3D()) as Laya.Scene3D;
        // //添加照相机
        // var camera: Laya.Camera = (scene.addChild(new Laya.Camera(0, 0.1, 100))) as Laya.Camera;
        // camera.transform.translate(new Laya.Vector3(0, 3, 3));
        // camera.transform.rotate(new Laya.Vector3(-30, 0, 0), true, false);
        // //添加方向光
        // var directionLight: Laya.DirectionLight = scene.addChild(new Laya.DirectionLight()) as Laya.DirectionLight;
        // directionLight.color = new Laya.Vector3(0.9, 0.2, 0.9);
        // directionLight.transform.worldMatrix.setForward(new Laya.Vector3(1, -1, 0));
        // //添加自定义模型
        // var box: Laya.MeshSprite3D = scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(1, 1, 1))) as Laya.MeshSprite3D;
        // box.transform.rotate(new Laya.Vector3(0, 45, 0), false, false);
        // var material: Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();
        // Laya.Texture2D.load("/layabox.png", Laya.Handler.create(null, function(tex:Laya.Texture2D) {
        // 		material.albedoTexture = tex;
        // }));
        // box.meshRenderer.material = material;
        // var vect:Laya.Vector3 = new Laya.Vector3(1,1,0);
        // Laya.timer.loop(10,this,function(){
        //     box.transform.rotate(vect,true,false);
        // });
        // var spr:Laya.MeshSprite3D = this.scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createSphere(1,10,10))) as Laya.MeshSprite3D;
        // spr.transform.rotate(new Laya.Vector3(0,90,0),false,false);
        // spr.transform.translate(new Laya.Vector3(0,5,0));
        // spr.meshRenderer.material = material;
        // spr.addComponent(Laya.PhysicsCollider);
        // var rig:Laya.Rigidbody3D = spr.addComponent(Laya.Rigidbody3D);
        // rig.colliderShape = new Laya.SphereColliderShape(1);
        // var floor:Laya.MeshSprite3D = this.scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createPlane(10,10))) as Laya.MeshSprite3D;
        // var floorCollider:Laya.PhysicsCollider = floor.addComponent(Laya.PhysicsCollider);
        // floorCollider.colliderShape = new Laya.BoxColliderShape(10,0,10);//
        // Laya.timer.loop(1000,this,function(){
        //     var clone:Laya.MeshSprite3D = Laya.Sprite3D.instantiate(spr) as Laya.MeshSprite3D;
        //     clone.transform.translate(new Laya.Vector3(0,5,0));
        //     this.scene.addChild(clone);
        // });
        // this.addComponent();
    }
    return GameUI;
}(layaMaxUI_1.ui.test.TestSceneUI));
exports.default = GameUI;
},{"./../ui/layaMaxUI":8,"./CreateScene3":4}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("./../ui/layaMaxUI");
var EveEmitter_1 = require("./EveEmitter");
var Part2 = /** @class */ (function (_super) {
    __extends(Part2, _super);
    function Part2() {
        var _this = _super.call(this) || this;
        _this.init();
        var em = new EveEmitter_1.default();
        em.on("hello", _this.sayHello);
        em.on("sss", _this.sayHello);
        em.on("world", _this.sayWorld);
        em.on("any", _this.sayAny);
        em.emit("hello");
        em.emit("world");
        em.emit("sss");
        em.emit("any");
        em.off("any", _this.sayAny);
        em.emit("any");
        //
        _this.stage.on("stage", _this, function () {
            console.log("stage----->");
        });
        return _this;
        //    this.stage.de
    }
    Part2.prototype.sayHello = function () {
        console.log("hello");
    };
    Part2.prototype.sayWorld = function () {
        console.log("world");
    };
    Part2.prototype.sayAny = function () {
        console.log("any");
    };
    Part2.prototype.init = function () {
        //create去预加载3D资源
        Laya.loader.create("res/threeDimen/scene/LayaScene_dudeScene/Conventional/dudeScene.ls", Laya.Handler.create(this, function () {
            Laya.Scene3D.load("threeDimen/scene/LayaScene_dudeScene/Conventional/dudeScene.ls", Laya.Handler.create(null, function (scene) {
                Laya.stage.addChild(scene);
                var camera = scene.getChildByName("Camera");
            }));
        }));
    };
    return Part2;
}(layaMaxUI_1.ui.test.PartScene2UI));
exports.default = Part2;
},{"./../ui/layaMaxUI":8,"./EveEmitter":5}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ui;
(function (ui) {
    var test;
    (function (test) {
        var PartScene2UI = /** @class */ (function (_super) {
            __extends(PartScene2UI, _super);
            function PartScene2UI() {
                return _super.call(this) || this;
            }
            PartScene2UI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.loadScene("test/PartScene2");
            };
            return PartScene2UI;
        }(Laya.Scene));
        test.PartScene2UI = PartScene2UI;
        var TestSceneUI = /** @class */ (function (_super) {
            __extends(TestSceneUI, _super);
            function TestSceneUI() {
                return _super.call(this) || this;
            }
            TestSceneUI.prototype.createChildren = function () {
                _super.prototype.createChildren.call(this);
                this.loadScene("test/TestScene");
            };
            return TestSceneUI;
        }(Laya.Scene));
        test.TestSceneUI = TestSceneUI;
    })(test = ui.test || (ui.test = {}));
})(ui = exports.ui || (exports.ui = {}));
},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkY6L0xheWFBaXJJREUvcmVzb3VyY2VzL2FwcC9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwic3JjL0dhbWVDb25maWcudHMiLCJzcmMvTWFpbi50cyIsInNyYy9zY3JpcHQvQ2FtZXJhTW92ZVNjcmlwdC50cyIsInNyYy9zY3JpcHQvQ3JlYXRlU2NlbmUzLnRzIiwic3JjL3NjcmlwdC9FdmVFbWl0dGVyLnRzIiwic3JjL3NjcmlwdC9HYW1lVUkudHMiLCJzcmMvc2NyaXB0L1BhcnQyLnRzIiwic3JjL3VpL2xheWFNYXhVSS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNWQSxnR0FBZ0c7QUFDaEcsd0NBQWtDO0FBQ2xDLDBDQUFvQztBQUNwQzs7RUFFRTtBQUNGO0lBYUk7SUFBYyxDQUFDO0lBQ1IsZUFBSSxHQUFYO1FBQ0ksSUFBSSxHQUFHLEdBQWEsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUM7UUFDN0MsR0FBRyxDQUFDLGlCQUFpQixFQUFDLGVBQUssQ0FBQyxDQUFDO1FBQzdCLEdBQUcsQ0FBQyxrQkFBa0IsRUFBQyxnQkFBTSxDQUFDLENBQUM7SUFDbkMsQ0FBQztJQWpCTSxnQkFBSyxHQUFRLEdBQUcsQ0FBQztJQUNqQixpQkFBTSxHQUFRLElBQUksQ0FBQztJQUNuQixvQkFBUyxHQUFRLEdBQUcsQ0FBQztJQUNyQixxQkFBVSxHQUFRLE1BQU0sQ0FBQztJQUN6QixpQkFBTSxHQUFRLEtBQUssQ0FBQztJQUNwQixpQkFBTSxHQUFRLE1BQU0sQ0FBQztJQUNyQixxQkFBVSxHQUFLLHNCQUFzQixDQUFDO0lBQ3RDLG9CQUFTLEdBQVEsRUFBRSxDQUFDO0lBQ3BCLGdCQUFLLEdBQVMsS0FBSyxDQUFDO0lBQ3BCLGVBQUksR0FBUyxLQUFLLENBQUM7SUFDbkIsdUJBQVksR0FBUyxLQUFLLENBQUM7SUFDM0Is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QixJQUFJLENBQUMsU0FBUyxDQUFDLGlCQUFpQixDQUFDLENBQUM7WUFDdEMsQ0FBQztZQUNMLG1CQUFDO1FBQUQsQ0FOQSxBQU1DLENBTmlDLElBQUksQ0FBQyxLQUFLLEdBTTNDO1FBTlksaUJBQVksZUFNeEIsQ0FBQTtRQUNEO1lBQWlDLCtCQUFVO1lBQ3ZDO3VCQUFlLGlCQUFPO1lBQUEsQ0FBQztZQUN2QixvQ0FBYyxHQUFkO2dCQUNJLGlCQUFNLGNBQWMsV0FBRSxDQUFDO2dCQUN2QixJQUFJLENBQUMsU0FBUyxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDckMsQ0FBQztZQUNMLGtCQUFDO1FBQUQsQ0FOQSxBQU1DLENBTmdDLElBQUksQ0FBQyxLQUFLLEdBTTFDO1FBTlksZ0JBQVcsY0FNdkIsQ0FBQTtJQUNMLENBQUMsRUFmZ0IsSUFBSSxHQUFKLE9BQUksS0FBSixPQUFJLFFBZXBCO0FBQUQsQ0FBQyxFQWZhLEVBQUUsR0FBRixVQUFFLEtBQUYsVUFBRSxRQWVmIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xyXG5pbXBvcnQgUGFydDIgZnJvbSBcIi4vc2NyaXB0L1BhcnQyXCJcclxuaW1wb3J0IEdhbWVVSSBmcm9tIFwiLi9zY3JpcHQvR2FtZVVJXCJcclxuLypcclxuKiDmuLjmiI/liJ3lp4vljJbphY3nva47XHJcbiovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb25maWd7XHJcbiAgICBzdGF0aWMgd2lkdGg6bnVtYmVyPTY0MDtcclxuICAgIHN0YXRpYyBoZWlnaHQ6bnVtYmVyPTExMzY7XHJcbiAgICBzdGF0aWMgc2NhbGVNb2RlOnN0cmluZz1cIiBcIjtcclxuICAgIHN0YXRpYyBzY3JlZW5Nb2RlOnN0cmluZz1cIm5vbmVcIjtcclxuICAgIHN0YXRpYyBhbGlnblY6c3RyaW5nPVwidG9wXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25IOnN0cmluZz1cImxlZnRcIjtcclxuICAgIHN0YXRpYyBzdGFydFNjZW5lOmFueT1cInRlc3QvVGVzdFNjZW5lLnNjZW5lXCI7XHJcbiAgICBzdGF0aWMgc2NlbmVSb290OnN0cmluZz1cIlwiO1xyXG4gICAgc3RhdGljIGRlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgc3RhdDpib29sZWFuPWZhbHNlOyBcclxuICAgIHN0YXRpYyBwaHlzaWNzRGVidWc6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBleHBvcnRTY2VuZVRvSnNvbjpib29sZWFuPXRydWU7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe31cclxuICAgIHN0YXRpYyBpbml0KCl7XHJcbiAgICAgICAgdmFyIHJlZzogRnVuY3Rpb24gPSBMYXlhLkNsYXNzVXRpbHMucmVnQ2xhc3M7XHJcbiAgICAgICAgcmVnKFwic2NyaXB0L1BhcnQyLnRzXCIsUGFydDIpO1xyXG4gICAgICAgIHJlZyhcInNjcmlwdC9HYW1lVUkudHNcIixHYW1lVUkpO1xyXG4gICAgfVxyXG59XHJcbkdhbWVDb25maWcuaW5pdCgpOyIsImltcG9ydCBHYW1lQ29uZmlnIGZyb20gXCIuL0dhbWVDb25maWdcIjtcclxuY2xhc3MgTWFpbiB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHQvL+agueaNrklEReiuvue9ruWIneWni+WMluW8leaTjlx0XHRcclxuXHRcdGlmICh3aW5kb3dbXCJMYXlhM0RcIl0pIExheWEzRC5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0KTtcclxuXHRcdGVsc2UgTGF5YS5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0LCBMYXlhW1wiV2ViR0xcIl0pO1xyXG5cdFx0TGF5YVtcIlBoeXNpY3NcIl0gJiYgTGF5YVtcIlBoeXNpY3NcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhW1wiRGVidWdQYW5lbFwiXSAmJiBMYXlhW1wiRGVidWdQYW5lbFwiXS5lbmFibGUoKTtcclxuXHRcdExheWEuc3RhZ2Uuc2NhbGVNb2RlID0gR2FtZUNvbmZpZy5zY2FsZU1vZGU7XHJcblx0XHRMYXlhLnN0YWdlLnNjcmVlbk1vZGUgPSBHYW1lQ29uZmlnLnNjcmVlbk1vZGU7XHJcblx0XHQvL+WFvOWuueW+ruS/oeS4jeaUr+aMgeWKoOi9vXNjZW5l5ZCO57yA5Zy65pmvXHJcblx0XHRMYXlhLlVSTC5leHBvcnRTY2VuZVRvSnNvbiA9IEdhbWVDb25maWcuZXhwb3J0U2NlbmVUb0pzb247XHJcblxyXG5cdFx0Ly/miZPlvIDosIPor5XpnaLmnb/vvIjpgJrov4dJREXorr7nva7osIPor5XmqKHlvI/vvIzmiJbogIV1cmzlnLDlnYDlop7liqBkZWJ1Zz10cnVl5Y+C5pWw77yM5Z2H5Y+v5omT5byA6LCD6K+V6Z2i5p2/77yJXHJcblx0XHRpZiAoR2FtZUNvbmZpZy5kZWJ1ZyB8fCBMYXlhLlV0aWxzLmdldFF1ZXJ5U3RyaW5nKFwiZGVidWdcIikgPT0gXCJ0cnVlXCIpIExheWEuZW5hYmxlRGVidWdQYW5lbCgpO1xyXG5cdFx0aWYgKEdhbWVDb25maWcucGh5c2ljc0RlYnVnICYmIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdKSBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXS5lbmFibGUoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnN0YXQpIExheWEuU3RhdC5zaG93KCk7XHJcblx0XHRMYXlhLmFsZXJ0R2xvYmFsRXJyb3IgPSB0cnVlO1xyXG5cclxuXHRcdC8v5r+A5rS76LWE5rqQ54mI5pys5o6n5Yi277yMdmVyc2lvbi5qc29u55SxSURF5Y+R5biD5Yqf6IO96Ieq5Yqo55Sf5oiQ77yM5aaC5p6c5rKh5pyJ5Lmf5LiN5b2x5ZON5ZCO57ut5rWB56iLXHJcblx0XHRMYXlhLlJlc291cmNlVmVyc2lvbi5lbmFibGUoXCJ2ZXJzaW9uLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uVmVyc2lvbkxvYWRlZCksIExheWEuUmVzb3VyY2VWZXJzaW9uLkZJTEVOQU1FX1ZFUlNJT04pO1xyXG5cdH1cclxuXHJcblx0b25WZXJzaW9uTG9hZGVkKCk6IHZvaWQge1xyXG5cdFx0Ly/mv4DmtLvlpKflsI/lm77mmKDlsITvvIzliqDovb3lsI/lm77nmoTml7blgJnvvIzlpoLmnpzlj5HnjrDlsI/lm77lnKjlpKflm77lkIjpm4bph4zpnaLvvIzliJnkvJjlhYjliqDovb3lpKflm77lkIjpm4bvvIzogIzkuI3mmK/lsI/lm75cclxuXHRcdExheWEuQXRsYXNJbmZvTWFuYWdlci5lbmFibGUoXCJmaWxlY29uZmlnLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uQ29uZmlnTG9hZGVkKSk7XHJcblx0fVxyXG5cclxuXHRvbkNvbmZpZ0xvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5Yqg6L29SURF5oyH5a6a55qE5Zy65pmvXHJcblx0XHRHYW1lQ29uZmlnLnN0YXJ0U2NlbmUgJiYgTGF5YS5TY2VuZS5vcGVuKEdhbWVDb25maWcuc3RhcnRTY2VuZSk7XHJcblx0fVxyXG59XHJcbi8v5r+A5rS75ZCv5Yqo57G7XHJcbm5ldyBNYWluKCk7XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbWVyYU1vdmVTY3JpcHQgZXh0ZW5kcyBMYXlhLlNjcmlwdHtcclxuICAgIC8qKlxyXG4gICAgICogMS7plZzlpLTot5/pmo8gdGFyZ2V0XHJcbiAgICAgKiAyLumVnOWktOinkuW6puiwg+aVtFxyXG4gICAgICogMy7plZzlpLTov5zov5HosIPmlbRcclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQXdha2UoKXtcclxuXHJcbiAgICB9XHJcbiAgICBwcml2YXRlIHJvdGFpblNwZWVkOm51bWJlciA9IDAuMDAwNjsvL+aXi+i9rOmAn+W6plxyXG4gICAgcHJpdmF0ZSBjYW1lcmE6TGF5YS5DYW1lcmE7XHJcbiAgICBwcml2YXRlIHRhcmdldDpMYXlhLlNwcml0ZTNEOy8vXHJcbiAgICBwcml2YXRlIGlzTW91c2VEb3duOkJvb2xlYW47XHJcbiAgICBwcml2YXRlIGxhc3RNb3VzZVg6bnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBsYXN0TW91c2VZOm51bWJlcjtcclxuICAgIHByaXZhdGUgeWF3UGl0Y2hSb2xsID0gbmV3IExheWEuVmVjdG9yMygpO1xyXG4gICAgcHJpdmF0ZSB0ZW1wUm90YXRpb25aID0gbmV3IExheWEuUXVhdGVybmlvbigpO1xyXG4gICAgcHJpdmF0ZSB0ZW1wUm90YXRpb25YID0gbmV3IExheWEuUXVhdGVybmlvbigpO1xyXG4gICAgcHJpdmF0ZSB0ZW1wUm90YXRpb25ZID0gbmV3IExheWEuUXVhdGVybmlvbigpO1xyXG4gICAgb25TdGFydCgpe1xyXG4gICAgICAgIHRoaXMuY2FtZXJhID0gdGhpcy5vd25lciBhcyBMYXlhLkNhbWVyYTtcclxuICAgICAgICB0aGlzLmlzTW91c2VEb3duID0gZmFsc2U7XHJcbiAgICAgICAgLy8gdGhpcy50YXJnZXQgPSB0aGlzLm93bmVyLnRcclxuICAgICAgICBMYXlhLnN0YWdlLm9uKExheWEuRXZlbnQuTU9VU0VfRE9XTix0aGlzLHRoaXMub25Nb3VzZURvd24pO1xyXG4gICAgICAgIExheWEuc3RhZ2Uub24oTGF5YS5FdmVudC5NT1VTRV9VUCx0aGlzLHRoaXMub25Nb3VzZVVwKTtcclxuICAgICAgICBMYXlhLnN0YWdlLm9uKExheWEuRXZlbnQuTU9VU0VfT1VULHRoaXMsdGhpcy5vbk1vdXNlT3V0KTtcclxuICAgICAgICBMYXlhLnN0YWdlLm9uKExheWEuRXZlbnQuTU9VU0VfV0hFRUwsdGhpcyx0aGlzLm9uTW91c2VXaGVlbCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvbk1vdXNlV2hlZWwoZTpMYXlhLkV2ZW50KTp2b2lke1xyXG4gICAgICAgIC8vIHZhciBwb3N0aW9uID0gdGhpcy5jYW1lcmEudHJhbnNmb3JtLnBvc2l0aW9uO1xyXG4gICAgICAgIGlmKGUuZGVsdGEgPiAwKXtcclxuICAgICAgICAgICAgdmFyIGEgPSBuZXcgTGF5YS5WZWN0b3IzKDAsMCwwKTtcclxuICAgICAgICAgICAgdmFyIGIgPSBuZXcgTGF5YS5WZWN0b3IzKDAsMCwwKTtcclxuICAgICAgICAgICAgLy8gcG9zdGlvbiArPSB0aGlzLmNhbWVyYS50cmFuc2Zvcm0uVFxyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYS5maWVsZE9mVmlldyArPSAxO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYS5maWVsZE9mVmlldyAtPSAxO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25Nb3VzZURvd24oZTpMYXlhLkV2ZW50KTp2b2lke1xyXG4gICAgICAgIHRoaXMuY2FtZXJhLnRyYW5zZm9ybS5yb3RhdGlvbi5nZXRZYXdQaXRjaFJvbGwodGhpcy55YXdQaXRjaFJvbGwpO1xyXG4gICAgICAgIHRoaXMubGFzdE1vdXNlWCA9IExheWEuc3RhZ2UubW91c2VYO1xyXG4gICAgICAgIHRoaXMubGFzdE1vdXNlWSA9IExheWEuc3RhZ2UubW91c2VZO1xyXG4gICAgICAgIHRoaXMuaXNNb3VzZURvd24gPSB0cnVlO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25Nb3VzZVVwKGU6TGF5YS5FdmVudCk6dm9pZHtcclxuICAgICAgICB0aGlzLmlzTW91c2VEb3duID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uTW91c2VPdXQoZTpMYXlhLkV2ZW50KTp2b2lke1xyXG4gICAgICAgIHRoaXMuaXNNb3VzZURvd24gPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBvblVwZGF0ZSgpe1xyXG4gICAgICAgIC8vIGxheWEuXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJ0aW1lIC0gXCIpO1xyXG4gICAgICAgIC8vIHN0YXRlLlxyXG4gICAgICAvLyAgdGhpcy51cGRhdGVDYW1lcmEoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZUNhbWVyYSgpOnZvaWR7XHJcbiAgICAgICAgaWYoIWlzTmFOKHRoaXMubGFzdE1vdXNlWCkgJiYgIWlzTmFOKHRoaXMubGFzdE1vdXNlWSkpe1xyXG4gICAgICAgICAgICBMYXlhLktleUJvYXJkTWFuYWdlci5oYXNLZXlEb3duKExheWEuS2V5Ym9hcmQuVykgJiYgdGhpcy5jYW1lcmEudHJhbnNmb3JtLnJvdGF0ZShuZXcgTGF5YS5WZWN0b3IzKDAsMSwwKSx0cnVlLGZhbHNlKTtcclxuICAgICAgICAgICAgTGF5YS5LZXlCb2FyZE1hbmFnZXIuaGFzS2V5RG93bihMYXlhLktleWJvYXJkLlMpICYmIHRoaXMuY2FtZXJhLnRyYW5zZm9ybS5yb3RhdGUobmV3IExheWEuVmVjdG9yMygwLDEsMCksdHJ1ZSxmYWxzZSk7XHJcbiAgICAgICAgICAgIExheWEuS2V5Qm9hcmRNYW5hZ2VyLmhhc0tleURvd24oTGF5YS5LZXlib2FyZC5BKSAmJiB0aGlzLmNhbWVyYS50cmFuc2Zvcm0ucm90YXRlKG5ldyBMYXlhLlZlY3RvcjMoMSwwLDApLHRydWUsZmFsc2UpO1xyXG4gICAgICAgICAgICBMYXlhLktleUJvYXJkTWFuYWdlci5oYXNLZXlEb3duKExheWEuS2V5Ym9hcmQuRCkgJiYgdGhpcy5jYW1lcmEudHJhbnNmb3JtLnJvdGF0ZShuZXcgTGF5YS5WZWN0b3IzKDEsMCwwKSx0cnVlLGZhbHNlKTtcclxuICAgICAgICAgICAgaWYodGhpcy5pc01vdXNlRG93bil7XHJcbiAgICAgICAgICAgICAgICB2YXIgbW91c2VYID0gTGF5YS5zdGFnZS5tb3VzZVggLSB0aGlzLmxhc3RNb3VzZVg7XHJcbiAgICAgICAgICAgICAgICB2YXIgbW91c2VZID0gTGF5YS5zdGFnZS5tb3VzZVkgLSB0aGlzLmxhc3RNb3VzZVk7XHJcbiAgICAgICAgICAgICAgICB2YXIgeXByRWxlbTogRmxvYXQzMkFycmF5ID0gdGhpcy55YXdQaXRjaFJvbGwuZWxlbWVudHM7XHJcbiAgICAgICAgICAgICAgICB5cHJFbGVtWzBdIC09IG1vdXNlWCAqIHRoaXMucm90YWluU3BlZWQgKiAwLjU7XHJcbiAgICAgICAgICAgICAgICB5cHJFbGVtWzFdIC09IG1vdXNlWCAqIHRoaXMucm90YWluU3BlZWQgKiAwLjU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVJvdGF0aW9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5sYXN0TW91c2VYID0gTGF5YS5zdGFnZS5tb3VzZVg7XHJcbiAgICAgICAgdGhpcy5sYXN0TW91c2VZID0gTGF5YS5zdGFnZS5tb3VzZVk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVSb3RhdGlvbigpOnZvaWR7XHJcbiAgICAgICAgdmFyIHlwckVsZW06RmxvYXQzMkFycmF5ID0gdGhpcy55YXdQaXRjaFJvbGwuZWxlbWVudHM7XHJcbiAgICAgICAgaWYoTWF0aC5hYnMoeXByRWxlbVsxXSkgPCAxLjUpe1xyXG4gICAgICAgICAgICBMYXlhLlF1YXRlcm5pb24uY3JlYXRlRnJvbVlhd1BpdGNoUm9sbCh5cHJFbGVtWzBdLHlwckVsZW1bMV0seXByRWxlbVsyXSx0aGlzLnRlbXBSb3RhdGlvblopO1xyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYS50cmFuc2Zvcm0ubG9jYWxSb3RhdGlvbiA9IHRoaXMudGVtcFJvdGF0aW9uWjtcclxuICAgICAgICB9ICBcclxuICAgIH1cclxuXHJcbiAgICBvbkVuYWJsZSgpe1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBvbkRlc3Ryb3koKXtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgb25EaXNhYmxlKCl7XHJcblxyXG4gICAgfVxyXG59IiwiaW1wb3J0IENhbWVyYU1vdmVTY3JpcHQgZnJvbSBcIi4vQ2FtZXJhTW92ZVNjcmlwdFwiO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDcmVhdGVTY2VuZTMgZXh0ZW5kcyBMYXlhLlNjcmlwdHtcclxuICAgIC8qKlxyXG4gICAgICog5Z+656GA56Kw5pKe5ZmoXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgc2NlbmU6TGF5YS5TY2VuZTNEO1xyXG4gICAgcHJpdmF0ZSBjYW1lcmE6TGF5YS5DYW1lcmE7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe3N1cGVyKCk7fVxyXG4gICAgb25Bd2FrZSgpe1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSB0aGlzLm93bmVyIGFzIExheWEuU2NlbmUzRDtcclxuICAgIH1cclxuXHJcbiAgICBvblN0YXJ0KCl7XHJcbiAgICAgICAgLy8gdGhpcy5jYW1lcmEub1xyXG4gICAgICAgIHRoaXMuY2FtZXJhID0gdGhpcy5zY2VuZS5hZGRDaGlsZChuZXcgTGF5YS5DYW1lcmEoMCwwLjEsMTAwKSkgYXMgTGF5YS5DYW1lcmE7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEudHJhbnNmb3JtLnRyYW5zbGF0ZShuZXcgTGF5YS5WZWN0b3IzKDAsNiw5LjUpKTtcclxuICAgICAgICB0aGlzLmNhbWVyYS50cmFuc2Zvcm0ucm90YXRlKG5ldyBMYXlhLlZlY3RvcjMoLTE1LDAsMCksdHJ1ZSxmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEuY2xlYXJDb2xvciA9IG5ldyBMYXlhLlZlY3RvcjQoMC41LDAuNSwwLjUsMSk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEuYWRkQ29tcG9uZW50KENhbWVyYU1vdmVTY3JpcHQpO1xyXG5cclxuICAgICAgICB2YXIgZGlyZWN0aW9uTGlnaHQ6TGF5YS5EaXJlY3Rpb25MaWdodCA9IHRoaXMuc2NlbmUuYWRkQ2hpbGQobmV3IExheWEuRGlyZWN0aW9uTGlnaHQoKSkgYXMgTGF5YS5EaXJlY3Rpb25MaWdodDtcclxuICAgICAgICBkaXJlY3Rpb25MaWdodC5jb2xvciA9IG5ldyBMYXlhLlZlY3RvcjMoMSwxLDEpO1xyXG4gICAgICAgIGRpcmVjdGlvbkxpZ2h0LnRyYW5zZm9ybS53b3JsZE1hdHJpeC5zZXRGb3J3YXJkKG5ldyBMYXlhLlZlY3RvcjMoLTEsLTEsLTEpKTtcclxuXHJcbiAgICAgICAgdmFyIHBsYW5lOkxheWEuTWVzaFNwcml0ZTNEID0gdGhpcy5zY2VuZS5hZGRDaGlsZChuZXcgTGF5YS5NZXNoU3ByaXRlM0QoTGF5YS5QcmltaXRpdmVNZXNoLmNyZWF0ZVBsYW5lKDEwLDEwLDEwLDEwKSkpIGFzIExheWEuTWVzaFNwcml0ZTNEO1xyXG4gICAgICAgIHZhciBwbGFuZU1hdGVyaWFsOkxheWEuQmxpbm5QaG9uZ01hdGVyaWFsID0gbmV3IExheWEuQmxpbm5QaG9uZ01hdGVyaWFsKCk7XHJcbiAgICAgICAgTGF5YS5sb2FkZXIubG9hZChcInJlcy9MYXlhYm94LnBuZ1wiLExheWEuSGFuZGxlci5jcmVhdGUobnVsbCxmdW5jdGlvbih0eDpMYXlhLlRleHR1cmUyRCl7XHJcbiAgICAgICAgICAgIHBsYW5lTWF0ZXJpYWwuYWxiZWRvVGV4dHVyZSA9IHR4O1xyXG4gICAgICAgIH0pKTtcclxuICAgICAgICBwbGFuZS5tZXNoUmVuZGVyZXIubWF0ZXJpYWwgPSBwbGFuZU1hdGVyaWFsO1xyXG4gICAgICAgIHBsYW5lLm1lc2hSZW5kZXJlci5jYXN0U2hhZG93ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdmFyIHJpZ2lkQm9keTpMYXlhLlBoeXNpY3NDb2xsaWRlciA9IHBsYW5lLmFkZENvbXBvbmVudChMYXlhLlBoeXNpY3NDb2xsaWRlcikgYXMgTGF5YS5QaHlzaWNzQ29sbGlkZXI7XHJcbiAgICAgICAgdmFyIGJveDpMYXlhLkJveENvbGxpZGVyU2hhcGUgPSBuZXcgTGF5YS5Cb3hDb2xsaWRlclNoYXBlKDEwLDAsMTApO1xyXG4gICAgICAgIHJpZ2lkQm9keS5jb2xsaWRlclNoYXBlID0gYm94O1xyXG4gICAgICAgXHJcbiAgICAgICAgTGF5YS50aW1lci5sb29wKDIwMDAsdGhpcyx0aGlzLnJhbmRvbUFkZFBoeXNpY3NTcHJpdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmFuZG9tQWRkUGh5c2ljc1Nwcml0ZSgpOnZvaWR7XHJcbiAgICAgICAgdmFyIG46bnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjMpJTM7XHJcbiAgICAgICAgc3dpdGNoKG4pe1xyXG4gICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZEJveCgpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRTcGhlcmUoKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2Fwc3VsZSgpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhZGRCb3goKTp2b2lke1xyXG4gICAgICAgIHZhciBtYXQxOkxheWEuQmxpbm5QaG9uZ01hdGVyaWFsID0gbmV3IExheWEuQmxpbm5QaG9uZ01hdGVyaWFsKCk7XHJcbiAgICAgICAgTGF5YS5UZXh0dXJlMkQubG9hZChcInJlcy9MYXlhYm94LnBuZ1wiLExheWEuSGFuZGxlci5jcmVhdGUodGhpcyxmdW5jdGlvbih0ZXg6TGF5YS5UZXh0dXJlMkQpe1xyXG4gICAgICAgICAgICBtYXQxLmFsYmVkb1RleHR1cmUgPSB0ZXg7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIHZhciBzWDpudW1iZXIgPSBNYXRoLnJhbmRvbSgpKjAuNzUrMC4yNTtcclxuICAgICAgICB2YXIgc1k6bnVtYmVyID0gTWF0aC5yYW5kb20oKSowLjc1KzAuMjU7XHJcbiAgICAgICAgdmFyIHNaOm51bWJlciA9IE1hdGgucmFuZG9tKCkqMC43NSswLjI1O1xyXG4gICAgICAgIHZhciBib3g6TGF5YS5NZXNoU3ByaXRlM0QgPSB0aGlzLnNjZW5lLmFkZENoaWxkKG5ldyBMYXlhLk1lc2hTcHJpdGUzRChMYXlhLlByaW1pdGl2ZU1lc2guY3JlYXRlQm94KHNYLHNZLHNaKSkpIGFzIExheWEuTWVzaFNwcml0ZTNEO1xyXG4gICAgICAgIGJveC5tZXNoUmVuZGVyZXIubWF0ZXJpYWwgPSBtYXQxO1xyXG4gICAgICAgIGJveC50cmFuc2Zvcm0ucG9zaXRpb24gPSBuZXcgTGF5YS5WZWN0b3IzKE1hdGgucmFuZG9tKCkqNC0yLDEwLE1hdGgucmFuZG9tKCkqNC0yKTtcclxuICAgICAgICBib3gudHJhbnNmb3JtLnJvdGF0aW9uRXVsZXIgPSBuZXcgTGF5YS5WZWN0b3IzKE1hdGgucmFuZG9tKCkqMzYwLE1hdGgucmFuZG9tKCkqMzYwLE1hdGgucmFuZG9tKCkqMzYwKTtcclxuICAgICAgICB2YXIgcmlnaWRCb2R5M0Q6TGF5YS5SaWdpZGJvZHkzRCA9IGJveC5hZGRDb21wb25lbnQoTGF5YS5SaWdpZGJvZHkzRCkgYXMgTGF5YS5SaWdpZGJvZHkzRDtcclxuICAgICAgICB2YXIgYm94U2hwOkxheWEuQm94Q29sbGlkZXJTaGFwZSA9IG5ldyBMYXlhLkJveENvbGxpZGVyU2hhcGUoc1gsc1ksc1opIGFzIExheWEuQm94Q29sbGlkZXJTaGFwZTtcclxuICAgICAgICByaWdpZEJvZHkzRC5jb2xsaWRlclNoYXBlID0gYm94U2hwO1xyXG4gICAgICAgIHJpZ2lkQm9keTNELm1hc3MgPSAxMDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFkZFNwaGVyZSgpOnZvaWR7XHJcbiAgICAgICAgdmFyIG1hdDI6TGF5YS5CbGlublBob25nTWF0ZXJpYWwgPSBuZXcgTGF5YS5CbGlublBob25nTWF0ZXJpYWwoKTtcclxuICAgICAgICAvL1xyXG4gICAgICAgIExheWEuVGV4dHVyZTJELmxvYWQoXCJyZXMvTGF5YWJveC5wbmdcIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZShudWxsLCBmdW5jdGlvbih0ZXg6TGF5YS5UZXh0dXJlMkQpOnZvaWQge1xyXG4gICAgICAgICAgICBtYXQyLmFsYmVkb1RleHR1cmUgPSB0ZXg7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIHZhciByYWRpdXM6bnVtYmVyID0gTWF0aC5yYW5kb20oKSAqIDAuMiArIDAuMjtcclxuICAgICAgICB2YXIgc3BoZXJlOiBMYXlhLk1lc2hTcHJpdGUzRCA9IHRoaXMuc2NlbmUuYWRkQ2hpbGQobmV3IExheWEuTWVzaFNwcml0ZTNEKExheWEuUHJpbWl0aXZlTWVzaC5jcmVhdGVTcGhlcmUocmFkaXVzKSkpIGFzIExheWEuTWVzaFNwcml0ZTNEO1xyXG4gICAgICAgIHNwaGVyZS5tZXNoUmVuZGVyZXIubWF0ZXJpYWwgPSBtYXQyO1xyXG4gICAgICAgIHNwaGVyZS50cmFuc2Zvcm0ucG9zaXRpb24gPSBuZXcgTGF5YS5WZWN0b3IzKE1hdGgucmFuZG9tKCkgKiA0IC0gMiwgMTAsIE1hdGgucmFuZG9tKCkgKiA0IC0gMik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIHJpZ2lkQm9keTpMYXlhLlJpZ2lkYm9keTNEID0gc3BoZXJlLmFkZENvbXBvbmVudChMYXlhLlJpZ2lkYm9keTNEKTtcclxuICAgICAgICB2YXIgc3BoZXJlU2hhcGU6TGF5YS5TcGhlcmVDb2xsaWRlclNoYXBlID0gbmV3IExheWEuU3BoZXJlQ29sbGlkZXJTaGFwZShyYWRpdXMpO1xyXG4gICAgICAgIHJpZ2lkQm9keS5jb2xsaWRlclNoYXBlID0gc3BoZXJlU2hhcGU7XHJcbiAgICAgICAgcmlnaWRCb2R5Lm1hc3MgPSAxMDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFkZENhcHN1bGUoKTp2b2lke1xyXG4gICAgICAgIHZhciBtYXQzOkxheWEuQmxpbm5QaG9uZ01hdGVyaWFsID0gbmV3IExheWEuQmxpbm5QaG9uZ01hdGVyaWFsKCk7XHJcbiAgICAgICAgTGF5YS5UZXh0dXJlMkQubG9hZChcInJlcy9MYXlhYm94LnBuZ1wiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKG51bGwsIGZ1bmN0aW9uKHRleDpMYXlhLlRleHR1cmUyRCk6dm9pZCB7XHJcbiAgICAgICAgICAgIG1hdDMuYWxiZWRvVGV4dHVyZSA9IHRleDtcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIHJhaWRpdXM6bnVtYmVyID0gTWF0aC5yYW5kb20oKSAqIDAuMiArIDAuMjtcclxuICAgICAgICB2YXIgaGVpZ2h0Om51bWJlciA9IE1hdGgucmFuZG9tKCkgKiAwLjUgKyAwLjg7XHJcbiAgICAgICAgdmFyIGNhcHN1bGU6TGF5YS5NZXNoU3ByaXRlM0QgPSB0aGlzLnNjZW5lLmFkZENoaWxkKG5ldyBMYXlhLk1lc2hTcHJpdGUzRChMYXlhLlByaW1pdGl2ZU1lc2guY3JlYXRlQ2Fwc3VsZShyYWlkaXVzLCBoZWlnaHQpKSkgYXMgTGF5YS5NZXNoU3ByaXRlM0Q7XHJcbiAgICAgICAgY2Fwc3VsZS5tZXNoUmVuZGVyZXIubWF0ZXJpYWwgPSBtYXQzO1xyXG4gICAgICAgIGNhcHN1bGUudHJhbnNmb3JtLnBvc2l0aW9uID0gbmV3IExheWEuVmVjdG9yMyhNYXRoLnJhbmRvbSgpICogNCAtIDIsIDEwLCBNYXRoLnJhbmRvbSgpICogNCAtIDIpO1xyXG4gICAgICAgIGNhcHN1bGUudHJhbnNmb3JtLnJvdGF0aW9uRXVsZXIgPSBuZXcgTGF5YS5WZWN0b3IzKE1hdGgucmFuZG9tKCkgKiAzNjAsIE1hdGgucmFuZG9tKCkgKiAzNjAsIE1hdGgucmFuZG9tKCkgKiAzNjApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHZhciByaWdpZEJvZHk6TGF5YS5SaWdpZGJvZHkzRCA9IGNhcHN1bGUuYWRkQ29tcG9uZW50KExheWEuUmlnaWRib2R5M0QpO1xyXG4gICAgICAgIHZhciBzcGhlcmVTaGFwZTpMYXlhLkNhcHN1bGVDb2xsaWRlclNoYXBlID0gbmV3IExheWEuQ2Fwc3VsZUNvbGxpZGVyU2hhcGUocmFpZGl1cywgaGVpZ2h0KTtcclxuICAgICAgICByaWdpZEJvZHkuY29sbGlkZXJTaGFwZSA9IHNwaGVyZVNoYXBlO1xyXG4gICAgICAgIHJpZ2lkQm9keS5tYXNzID0gMTA7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBFdmVFbWl0dGVye1xyXG4gICAgcHJpdmF0ZSBldmVudHM6YW55O1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICB0aGlzLmV2ZW50cyA9IHt9O1xyXG4gICAgfVxyXG5cclxuICAgIG9uKGV2ZW50LGNhbGxiYWNrKXtcclxuICAgICAgICBsZXQgY2FsbGJhY2tzID0gdGhpcy5ldmVudHNbZXZlbnRdIHx8IFtdOy8v55yL5LiL5LmL5YmN5pyJ5rKh5pyJ55uR5ZCs77yM5pyJ55uR5ZCs55qE6K+d5bCx5oqK5LmL5YmN55qE5Zue6LCD5LmfXHJcbiAgICAgICAgY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spOy8v5re75Yqg6L+Z5qyh55uR5ZCs55qE5Zue6LCDXHJcbiAgICAgICAgdGhpcy5ldmVudHNbZXZlbnRdID0gY2FsbGJhY2tzO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIG9mZihldmVudCxjYWxsYmFjayl7XHJcbiAgICAgICAgbGV0IGNhbGxiYWNrcyA9IHRoaXMuZXZlbnRzW2V2ZW50XTsvL+aLv+aJgOacieWvueW6lGV2ZW5055qE5Zue6LCDXHJcbiAgICAgICAgdGhpcy5ldmVudHNbZXZlbnRdID0gY2FsbGJhY2tzICYmIGNhbGxiYWNrcy5maWx0ZXIoZm4gPT4gZm4gIT09IGNhbGxiYWNrKTsvL+aKimNhbGxiYWNr5Y676ZmkXHJcbiAgICAgICAgLy9maWx0ZXLov4fmu6TvvIzkuI3mmK/lr7nlupRjYWxsYmFja+eahOWbnuiwg+S8mue7p+e7reS/neeVme+8jOebuOetieeahOS8muWIoOmZpFxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIGVtaXQoLi4uYXJncyl7XHJcbiAgICAgICAgY29uc3QgZXZlbnQgPSBhcmdzWzBdO1xyXG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IFtdLnNsaWNlLmNhbGwoYXJncywxKTsvL+WFtuS7lueahOWFqOmDqOS/neWtmOWIsOS4gOS4quaVsOe7hOmHjOmdolxyXG4gICAgICAgIGNvbnN0IGNhbGxiYWNrcyA9IHRoaXMuZXZlbnRzW2V2ZW50XTsvL+aLv+WIsOWvueW6lOS6i+S7tueahOWbnuiwg1xyXG4gICAgICAgIGNhbGxiYWNrcy5mb3JFYWNoKGZuID0+IGZuLmFwcGx5KHBhcmFtcykpOy8v5oqK5omA5pyJ55qE6YO96Kem5Y+RXHJcbiAgICAgICAgLy9hcHBseeOAgWNhbGzjgIFiaW5kXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgb25jZShldmVudCxjYWxsYmFjayl7XHJcbiAgICAgICAgbGV0IHdhcnBGYW5jID0gKC4uLmFyZ3MpID0+e1xyXG4gICAgICAgICAgICBjYWxsYmFjay5hcHBseShhcmdzKTtcclxuICAgICAgICAgICAgdGhpcy5vZmYoZXZlbnQsd2FycEZhbmMpOy8v5omn6KGM5ZCO56uL5Y2z5rOo6ZSAXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMub24oZXZlbnQsd2FycEZhbmMpOy8v57uR5a6a55uR5ZCsXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyB1aSB9IGZyb20gXCIuLy4uL3VpL2xheWFNYXhVSVwiO1xyXG5pbXBvcnQgQ3JlYXRlU2NlbmUgZnJvbSBcIi4vQ3JlYXRlU2NlbmVcIjtcclxuaW1wb3J0IENyZWF0ZVNjZW5lMiBmcm9tIFwiLi9DcmVhdGVTY2VuZTJcIjtcclxuaW1wb3J0IENyZWF0ZVNjZW5lMyBmcm9tIFwiLi9DcmVhdGVTY2VuZTNcIjtcclxuaW1wb3J0IENhbWVyYU1vdmVTY3JpcHQgZnJvbSBcIi4vQ2FtZXJhTW92ZVNjcmlwdFwiO1xyXG4vKipcclxuICog5pys56S65L6L6YeH55So6Z2e6ISa5pys55qE5pa55byP5a6e546w77yM6ICM5L2/55So57un5om/6aG16Z2i5Z+657G777yM5a6e546w6aG16Z2i6YC76L6R44CC5ZyoSURF6YeM6Z2i6K6+572u5Zy65pmv55qEUnVudGltZeWxnuaAp+WNs+WPr+WSjOWcuuaZr+i/m+ihjOWFs+iBlFxyXG4gKiDnm7jmr5TohJrmnKzmlrnlvI/vvIznu6fmib/lvI/pobXpnaLnsbvvvIzlj6/ku6Xnm7TmjqXkvb/nlKjpobXpnaLlrprkuYnnmoTlsZ7mgKfvvIjpgJrov4dJREXlhoV2YXLlsZ7mgKflrprkuYnvvInvvIzmr5TlpoJ0aGlzLnRpcExibGzvvIx0aGlzLnNjb3JlTGJs77yM5YW35pyJ5Luj56CB5o+Q56S65pWI5p6cXHJcbiAqIOW7uuiuru+8muWmguaenOaYr+mhtemdoue6p+eahOmAu+i+ke+8jOmcgOimgemikee5geiuv+mXrumhtemdouWGheWkmuS4quWFg+e0oO+8jOS9v+eUqOe7p+aJv+W8j+WGmeazle+8jOWmguaenOaYr+eLrOeri+Wwj+aooeWdl++8jOWKn+iDveWNleS4gO+8jOW7uuiurueUqOiEmuacrOaWueW8j+WunueOsO+8jOavlOWmguWtkOW8ueiEmuacrOOAglxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZVVJIGV4dGVuZHMgdWkudGVzdC5UZXN0U2NlbmVVSSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIExheWEubG9hZGVyLmxvYWQoXCJyZXMvbGF5YWJveC5wbmdcIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBzY2VuZTogTGF5YS5TY2VuZTNEID0gbmV3IExheWEuU2NlbmUzRCgpO1xyXG4gICAgICAgICAgICBMYXlhLnN0YWdlLmFkZENoaWxkKHNjZW5lKTtcclxuICAgICAgICAgICAgc2NlbmUuYWRkQ29tcG9uZW50KENyZWF0ZVNjZW5lMyk7XHJcbiAgICAgICAgICAgIC8vIHNjZW5lLmFkZENvbXBvbmVudChDYW1lcmFNb3ZlU2NyaXB0KTtcclxuICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgIC8vIC8v5re75YqgM0TlnLrmma9cclxuICAgICAgICAvLyB2YXIgc2NlbmU6IExheWEuU2NlbmUzRCA9IExheWEuc3RhZ2UuYWRkQ2hpbGQobmV3IExheWEuU2NlbmUzRCgpKSBhcyBMYXlhLlNjZW5lM0Q7XHJcblxyXG4gICAgICAgIC8vIC8v5re75Yqg54Wn55u45py6XHJcbiAgICAgICAgLy8gdmFyIGNhbWVyYTogTGF5YS5DYW1lcmEgPSAoc2NlbmUuYWRkQ2hpbGQobmV3IExheWEuQ2FtZXJhKDAsIDAuMSwgMTAwKSkpIGFzIExheWEuQ2FtZXJhO1xyXG4gICAgICAgIC8vIGNhbWVyYS50cmFuc2Zvcm0udHJhbnNsYXRlKG5ldyBMYXlhLlZlY3RvcjMoMCwgMywgMykpO1xyXG4gICAgICAgIC8vIGNhbWVyYS50cmFuc2Zvcm0ucm90YXRlKG5ldyBMYXlhLlZlY3RvcjMoLTMwLCAwLCAwKSwgdHJ1ZSwgZmFsc2UpO1xyXG5cclxuICAgICAgICAvLyAvL+a3u+WKoOaWueWQkeWFiVxyXG4gICAgICAgIC8vIHZhciBkaXJlY3Rpb25MaWdodDogTGF5YS5EaXJlY3Rpb25MaWdodCA9IHNjZW5lLmFkZENoaWxkKG5ldyBMYXlhLkRpcmVjdGlvbkxpZ2h0KCkpIGFzIExheWEuRGlyZWN0aW9uTGlnaHQ7XHJcbiAgICAgICAgLy8gZGlyZWN0aW9uTGlnaHQuY29sb3IgPSBuZXcgTGF5YS5WZWN0b3IzKDAuOSwgMC4yLCAwLjkpO1xyXG4gICAgICAgIC8vIGRpcmVjdGlvbkxpZ2h0LnRyYW5zZm9ybS53b3JsZE1hdHJpeC5zZXRGb3J3YXJkKG5ldyBMYXlhLlZlY3RvcjMoMSwgLTEsIDApKTtcclxuXHJcbiAgICAgICAgLy8gLy/mt7vliqDoh6rlrprkuYnmqKHlnotcclxuICAgICAgICAvLyB2YXIgYm94OiBMYXlhLk1lc2hTcHJpdGUzRCA9IHNjZW5lLmFkZENoaWxkKG5ldyBMYXlhLk1lc2hTcHJpdGUzRChMYXlhLlByaW1pdGl2ZU1lc2guY3JlYXRlQm94KDEsIDEsIDEpKSkgYXMgTGF5YS5NZXNoU3ByaXRlM0Q7XHJcbiAgICAgICAgLy8gYm94LnRyYW5zZm9ybS5yb3RhdGUobmV3IExheWEuVmVjdG9yMygwLCA0NSwgMCksIGZhbHNlLCBmYWxzZSk7XHJcbiAgICAgICAgLy8gdmFyIG1hdGVyaWFsOiBMYXlhLkJsaW5uUGhvbmdNYXRlcmlhbCA9IG5ldyBMYXlhLkJsaW5uUGhvbmdNYXRlcmlhbCgpO1xyXG4gICAgICAgIC8vIExheWEuVGV4dHVyZTJELmxvYWQoXCIvbGF5YWJveC5wbmdcIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZShudWxsLCBmdW5jdGlvbih0ZXg6TGF5YS5UZXh0dXJlMkQpIHtcclxuICAgICAgICAvLyBcdFx0bWF0ZXJpYWwuYWxiZWRvVGV4dHVyZSA9IHRleDtcclxuICAgICAgICAvLyB9KSk7XHJcbiAgICAgICAgLy8gYm94Lm1lc2hSZW5kZXJlci5tYXRlcmlhbCA9IG1hdGVyaWFsO1xyXG5cclxuICAgICAgICAvLyB2YXIgdmVjdDpMYXlhLlZlY3RvcjMgPSBuZXcgTGF5YS5WZWN0b3IzKDEsMSwwKTtcclxuICAgICAgICAvLyBMYXlhLnRpbWVyLmxvb3AoMTAsdGhpcyxmdW5jdGlvbigpe1xyXG4gICAgICAgIC8vICAgICBib3gudHJhbnNmb3JtLnJvdGF0ZSh2ZWN0LHRydWUsZmFsc2UpO1xyXG4gICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICAvLyB2YXIgc3ByOkxheWEuTWVzaFNwcml0ZTNEID0gdGhpcy5zY2VuZS5hZGRDaGlsZChuZXcgTGF5YS5NZXNoU3ByaXRlM0QoTGF5YS5QcmltaXRpdmVNZXNoLmNyZWF0ZVNwaGVyZSgxLDEwLDEwKSkpIGFzIExheWEuTWVzaFNwcml0ZTNEO1xyXG4gICAgICAgIC8vIHNwci50cmFuc2Zvcm0ucm90YXRlKG5ldyBMYXlhLlZlY3RvcjMoMCw5MCwwKSxmYWxzZSxmYWxzZSk7XHJcbiAgICAgICAgLy8gc3ByLnRyYW5zZm9ybS50cmFuc2xhdGUobmV3IExheWEuVmVjdG9yMygwLDUsMCkpO1xyXG4gICAgICAgIC8vIHNwci5tZXNoUmVuZGVyZXIubWF0ZXJpYWwgPSBtYXRlcmlhbDtcclxuICAgICAgICAvLyBzcHIuYWRkQ29tcG9uZW50KExheWEuUGh5c2ljc0NvbGxpZGVyKTtcclxuICAgICAgICAvLyB2YXIgcmlnOkxheWEuUmlnaWRib2R5M0QgPSBzcHIuYWRkQ29tcG9uZW50KExheWEuUmlnaWRib2R5M0QpO1xyXG4gICAgICAgIC8vIHJpZy5jb2xsaWRlclNoYXBlID0gbmV3IExheWEuU3BoZXJlQ29sbGlkZXJTaGFwZSgxKTtcclxuXHJcbiAgICAgICAgLy8gdmFyIGZsb29yOkxheWEuTWVzaFNwcml0ZTNEID0gdGhpcy5zY2VuZS5hZGRDaGlsZChuZXcgTGF5YS5NZXNoU3ByaXRlM0QoTGF5YS5QcmltaXRpdmVNZXNoLmNyZWF0ZVBsYW5lKDEwLDEwKSkpIGFzIExheWEuTWVzaFNwcml0ZTNEO1xyXG4gICAgICAgIC8vIHZhciBmbG9vckNvbGxpZGVyOkxheWEuUGh5c2ljc0NvbGxpZGVyID0gZmxvb3IuYWRkQ29tcG9uZW50KExheWEuUGh5c2ljc0NvbGxpZGVyKTtcclxuICAgICAgICAvLyBmbG9vckNvbGxpZGVyLmNvbGxpZGVyU2hhcGUgPSBuZXcgTGF5YS5Cb3hDb2xsaWRlclNoYXBlKDEwLDAsMTApOy8vXHJcblxyXG4gICAgICAgIC8vIExheWEudGltZXIubG9vcCgxMDAwLHRoaXMsZnVuY3Rpb24oKXtcclxuICAgICAgICAvLyAgICAgdmFyIGNsb25lOkxheWEuTWVzaFNwcml0ZTNEID0gTGF5YS5TcHJpdGUzRC5pbnN0YW50aWF0ZShzcHIpIGFzIExheWEuTWVzaFNwcml0ZTNEO1xyXG4gICAgICAgIC8vICAgICBjbG9uZS50cmFuc2Zvcm0udHJhbnNsYXRlKG5ldyBMYXlhLlZlY3RvcjMoMCw1LDApKTtcclxuICAgICAgICAvLyAgICAgdGhpcy5zY2VuZS5hZGRDaGlsZChjbG9uZSk7XHJcbiAgICAgICAgLy8gfSk7XHJcblxyXG5cclxuICAgICAgICAvLyB0aGlzLmFkZENvbXBvbmVudCgpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgdWkgfSBmcm9tIFwiLi8uLi91aS9sYXlhTWF4VUlcIjtcclxuaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tIFwiLi9FdmVudEVtaXR0ZXJcIjtcclxuaW1wb3J0IEV2ZUVtaXR0ZXIgZnJvbSBcIi4vRXZlRW1pdHRlclwiO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXJ0MiBleHRlbmRzIHVpLnRlc3QuUGFydFNjZW5lMlVJe1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICAgICB2YXIgZW0gPSBuZXcgRXZlRW1pdHRlcigpO1xyXG4gICAgICAgZW0ub24oXCJoZWxsb1wiLHRoaXMuc2F5SGVsbG8pO1xyXG4gICAgICAgZW0ub24oXCJzc3NcIix0aGlzLnNheUhlbGxvKTtcclxuICAgICAgIGVtLm9uKFwid29ybGRcIix0aGlzLnNheVdvcmxkKTtcclxuICAgICAgIGVtLm9uKFwiYW55XCIsdGhpcy5zYXlBbnkpO1xyXG4gICAgICAgZW0uZW1pdChcImhlbGxvXCIpO1xyXG4gICAgICAgZW0uZW1pdChcIndvcmxkXCIpO1xyXG4gICAgICAgZW0uZW1pdChcInNzc1wiKTtcclxuICAgICAgIGVtLmVtaXQoXCJhbnlcIik7XHJcbiAgICAgICBlbS5vZmYoXCJhbnlcIix0aGlzLnNheUFueSk7XHJcbiAgICAgICBlbS5lbWl0KFwiYW55XCIpO1xyXG5cclxuICAgICAgIC8vXHJcbiAgICAgICB0aGlzLnN0YWdlLm9uKFwic3RhZ2VcIix0aGlzLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJzdGFnZS0tLS0tPlwiKTtcclxuICAgICAgIH0pO1xyXG5cclxuICAgIC8vICAgIHRoaXMuc3RhZ2UuZGVcclxuICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2F5SGVsbG8oKTp2b2lke1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiaGVsbG9cIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzYXlXb3JsZCgpOnZvaWR7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJ3b3JsZFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNheUFueSgpOnZvaWR7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJhbnlcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpbml0KCk6dm9pZHtcclxuICAgICAgICAvL2NyZWF0ZeWOu+mihOWKoOi9vTNE6LWE5rqQXHJcbiAgICAgICAgTGF5YS5sb2FkZXIuY3JlYXRlKFwicmVzL3RocmVlRGltZW4vc2NlbmUvTGF5YVNjZW5lX2R1ZGVTY2VuZS9Db252ZW50aW9uYWwvZHVkZVNjZW5lLmxzXCIsTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIExheWEuU2NlbmUzRC5sb2FkKFwidGhyZWVEaW1lbi9zY2VuZS9MYXlhU2NlbmVfZHVkZVNjZW5lL0NvbnZlbnRpb25hbC9kdWRlU2NlbmUubHNcIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZShudWxsLCBmdW5jdGlvbihzY2VuZTpMYXlhLlNjZW5lM0QpOnZvaWQge1xyXG4gICAgICAgICAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZChzY2VuZSkgYXMgTGF5YS5TY2VuZTNEO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNhbWVyYTpMYXlhLkNhbWVyYSA9IHNjZW5lLmdldENoaWxkQnlOYW1lKFwiQ2FtZXJhXCIpIGFzIExheWEuQ2FtZXJhO1xyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgfVxyXG59IiwiLyoqVGhpcyBjbGFzcyBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBMYXlhQWlySURFLCBwbGVhc2UgZG8gbm90IG1ha2UgYW55IG1vZGlmaWNhdGlvbnMuICovXG5pbXBvcnQgVmlldz1MYXlhLlZpZXc7XHJcbmltcG9ydCBEaWFsb2c9TGF5YS5EaWFsb2c7XHJcbmltcG9ydCBTY2VuZT1MYXlhLlNjZW5lO1xuZXhwb3J0IG1vZHVsZSB1aS50ZXN0IHtcclxuICAgIGV4cG9ydCBjbGFzcyBQYXJ0U2NlbmUyVUkgZXh0ZW5kcyBMYXlhLlNjZW5lIHtcclxuICAgICAgICBjb25zdHJ1Y3RvcigpeyBzdXBlcigpfVxyXG4gICAgICAgIGNyZWF0ZUNoaWxkcmVuKCk6dm9pZCB7XHJcbiAgICAgICAgICAgIHN1cGVyLmNyZWF0ZUNoaWxkcmVuKCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZFNjZW5lKFwidGVzdC9QYXJ0U2NlbmUyXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGV4cG9ydCBjbGFzcyBUZXN0U2NlbmVVSSBleHRlbmRzIExheWEuU2NlbmUge1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKCl7IHN1cGVyKCl9XHJcbiAgICAgICAgY3JlYXRlQ2hpbGRyZW4oKTp2b2lkIHtcclxuICAgICAgICAgICAgc3VwZXIuY3JlYXRlQ2hpbGRyZW4oKTtcclxuICAgICAgICAgICAgdGhpcy5sb2FkU2NlbmUoXCJ0ZXN0L1Rlc3RTY2VuZVwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cciJdfQ==
